<!DOCTYPE html>
<html>
<head>
  <title>Calculadora de Cuotas</title>
  <style>
    #priceInput,
    #result1,
    #result2,
    #result3 {
      text-align: right;
    }
  </style>
</head>
<body>
  <h1>Calculadora de Cuotas</h1>
  <p>Esta calculadora es solo una herramienta de referencia. Los resultados pueden variar. Por favor, comuniquese con la tapicería antes de tomar cualquier decisión basada en estos cálculos.</p>

  <label for="priceInput">Precio del producto:</label>
  <input type="text" id="priceInput" placeholder="Ingrese un precio" oninput="calculateResults()">
  <br>
  <p id="priceDescription"></p>
  
  <button onclick="appendNumber(1)">1</button>
  <button onclick="appendNumber(2)">2</button>
  <button onclick="appendNumber(3)">3</button>
  <button onclick="appendNumber(4)">4</button>
  <button onclick="appendNumber(5)">5</button>
  <button onclick="appendNumber(6)">6</button>
  <button onclick="appendNumber(7)">7</button>
  <button onclick="appendNumber(8)">8</button>
  <button onclick="appendNumber(9)">9</button>
  <button onclick="appendNumber(0)">0</button>
  <button onclick="deleteLastCharacter()">Borrar</button>
  <br><br>

  <label for="result1">Tasa 0 a 3 meses:</label>
  <input type="text" id="result1" readonly>
  <br>

  <label for="result2">Minicuotas a 12 meses:</label>
  <input type="text" id="result2" readonly>
  <br>

  <label for="result3">Minicuotas a 18 meses:</label>
  <input type="text" id="result3" readonly>

  <script>
    function formatNumber(number) {
      return number.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 });
    }

    function calculateResults() {
      var priceInput = document.getElementById("priceInput");
      var price = parseFloat(priceInput.value.replace(/[^0-9.]/g, ''));

      var result1 = document.getElementById("result1");
      var result2 = document.getElementById("result2");
      var result3 = document.getElementById("result3");

      if (isNaN(price) || price === 0) {
        result1.value = "Debe ingresar un precio";
        result2.value = "Debe ingresar un precio";
        result3.value = "Debe ingresar un precio";
      } else {
        var result1Value = "₡" + formatNumber(price / 3);
        var result2Value = "₡" + formatNumber((price / 12) * 1.0295);
        var result3Value = "₡" + formatNumber((price / 18) * 1.0295);

        result1.value = result1Value;
        result2.value = result2Value;
        result3.value = result3Value;
      }
    }

    function appendNumber(number) {
      var priceInput = document.getElementById("priceInput");
      priceInput.value += number.toString();
      calculateResults();
    }

    function deleteLastCharacter() {
      var priceInput = document.getElementById("priceInput");
      priceInput.value = priceInput.value.slice(0, -1);
      calculateResults();
    }
  </script>
</body>
</html>
